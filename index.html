<!DOCTYPE html>
<html>
<body>
    <form id="text-form">
        <input type="text" id="text-input" name="text" value="Hello, World!">
        <select id="position-input" name="position">
            <option value="left-top">Left Top</option>
            <option value="right-top">Right Top</option>
            <option value="left-bottom">Left Bottom</option>
            <option value="right-bottom">Right Bottom</option>

        </select>
        <input type="submit" value="Update Image">
    </form>
    <img id="image" src="/image">
    <script>

            // fetch('/list')
            // .then(response => response.text())  // Parse the data as text
            // .then(data => {

            //     console.log(data);  // Log the data to the console


            // })
            // .catch((error) => {
            //     console.error('Error:', error);
            // });


        document.getElementById('text-form').onsubmit = function(e) {
            e.preventDefault();

            fetch('/image', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                body: new URLSearchParams(new FormData(e.target)),
            })
            .then(response => response.blob())
            .then(image => {
                document.getElementById('image').src = URL.createObjectURL(image);
            });



        };
    </script>
</body>
</html>
